import{u as e,a as s,d as a,j as l,B as r}from"./index-D0W32CLW.js";import{r as i}from"./vendor-npDLdgAy.js";import{m as t,q as o,n as c,p as d,r as n}from"./firebase-eG8A_CqU.js";import{u}from"./router-Ba8Cb_LR.js";import{a6 as m,D as p}from"./ui-DFmt1-QL.js";const x=()=>{const{user:x}=e(),{toast:f}=s(),h=u(),[j,v]=i.useState([]),[N,w]=i.useState(!0),b=i.useCallback(async()=>{try{w(!0);const e=t(a,"profiles"),s=o(e,c("created_at","desc"),d(20)),l=(await n(s)).docs.map(e=>({id:e.id,...e.data(),type:"profile"}));v(l)}catch(e){v([])}finally{w(!1)}},[f]);i.useEffect(()=>{(null==x?void 0:x.uid)&&b()},[null==x?void 0:x.uid,b]);return N?l.jsx("div",{className:"px-4 py-2",children:l.jsx("div",{className:"flex gap-3 overflow-x-auto",children:[1,2,3,4,5].map(e=>l.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-muted rounded-full animate-pulse"},e))})}):l.jsx("div",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(r,{variant:"outline",size:"sm",className:"w-16 h-16 rounded-full flex flex-col items-center justify-center gap-1 bg-muted/50 hover:bg-muted",onClick:()=>h("/my-profile"),children:[l.jsx(m,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs",children:"Mi Perfil"})]})}),j.map((e,s)=>l.jsxs("div",{className:"flex-shrink-0",children:[l.jsx("button",{onClick:()=>(e=>{"profile"===e.type&&h(`/profile/${e.id}`)})(e),className:"w-16 h-16 rounded-full relative overflow-hidden border-2 border-transparent hover:border-primary transition-colors",children:l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:e.profile_picture_url||"/pwa-512x512.png",alt:e.alias||"Usuario",className:"w-full h-full object-cover",onError:e=>{e.target.src="/pwa-512x512.png"}}),e.is_vip&&l.jsx("div",{className:"absolute -top-1 -right-1",children:l.jsx(p,{className:"w-4 h-4 text-yellow-500 fill-current"})})]})}),l.jsx("div",{className:"text-center mt-1",children:l.jsx("span",{className:"text-xs text-muted-foreground truncate w-16 block",children:e.alias||"Usuario"})})]},`${e.type}-${e.id}`))]})})};export{x as default};
